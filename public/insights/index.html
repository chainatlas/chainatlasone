<!doctype html>
<html lang="en">
  <head>
    <!-- Theme init (must match Dashboard key) + logo swap -->
    <script>
      (function () {
        const key = "theme";
        const root = document.documentElement;

        const DARK = "https://www.chainatlasone.com/logo-dark.png";
        const LIGHT = "https://www.chainatlasone.com/logo-light.png";

        function applyTheme(theme) {
          root.setAttribute("data-theme", theme);
          localStorage.setItem(key, theme);
          const logo = document.getElementById("siteLogo");
          if (logo) logo.src = theme === "light" ? LIGHT : DARK;
        }

        // Set theme early to avoid flash
        const saved = localStorage.getItem(key) || "dark";
        root.setAttribute("data-theme", saved);

        // When DOM is ready, apply logo + bind toggle
        window.addEventListener("DOMContentLoaded", () => {
          // Ensure logo matches theme
          const t = root.getAttribute("data-theme") || "dark";
          const logo = document.getElementById("siteLogo");
          if (logo) logo.src = t === "light" ? LIGHT : DARK;

          // Theme toggle button
          const btn = document.getElementById("themeBtn");
          if (btn) {
            btn.addEventListener("click", () => {
              const cur = root.getAttribute("data-theme") || "dark";
              applyTheme(cur === "dark" ? "light" : "dark");
            });
          }
        });
      })();
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <title>Insights – ChainAtlasOne</title>
    <meta
      name="description"
      content="Advanced Bitcoin insights: fees, blockspace, network security and monetary policy — visual, real-time, neutral."
    />
    <link rel="canonical" href="https://www.chainatlasone.com/insights/" />

    <meta property="og:title" content="ChainAtlasOne Insights" />
    <meta
      property="og:description"
      content="Advanced Bitcoin insights: fees, blockspace, network security and monetary policy — visual, real-time, neutral."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.chainatlasone.com/insights/" />

    <link rel="stylesheet" href="./base.css" />
    <link rel="stylesheet" href="./insights.css" />
  </head>

  <body>
    <header class="topbar">
      <div class="brand" aria-label="ChainAtlasOne">
        <img
          id="siteLogo"
          src="https://www.chainatlasone.com/logo-dark.png"
          alt="ChainAtlasOne"
          class="logo"
          style="height:52px;width:auto;display:block"
        />
      </div>

      <div class="topbarActions">
        <a class="btn btnGhost" href="/">Dashboard</a>
        <a class="btn btnGhost" href="/learn/index.html">Learn</a>

        <button
          class="btn btnIcon"
          id="themeBtn"
          type="button"
          title="Toggle theme"
          aria-label="Toggle theme"
        >
          <span class="iconMoon" aria-hidden="true">☾</span>
        </button>
      </div>
    </header>

    <main class="container">
      <section class="card hero" aria-label="Insights hero">
        <div class="heroTop">
          <div>
            <h1 class="heroTitle">Insights</h1>
            <p class="heroSub">A visual Bitcoin transparency lab. Deeper metrics, zero hype.</p>
          </div>
          <div class="heroPills" aria-label="Scope pills">
            <span class="pill">Fees</span>
            <span class="pill">Blockspace</span>
            <span class="pill">Security</span>
            <span class="pill">Monetary Policy</span>
          </div>
        </div>

        <div class="heroMini">
          <div class="miniStat">
            <div class="k">Live status</div>
            <div class="v"><span class="dotLive"></span>connected</div>
          </div>
          <div class="miniStat">
            <div class="k">Mode</div>
            <div class="v">Advanced</div>
          </div>
          <div class="miniStat">
            <div class="k">Crypto Asset</div>
            <div class="v">BITCOIN</div>
          </div>
        </div>
      </section>

      <section class="sectionHead">
        <h2>Fee & Blockspace</h2>
        <p class="muted">Understand demand for blockspace in real time.</p>
      </section>
      <!-- NOTE: Cards are injected by JS into these sections -->
      <section class="grid insightsGrid" id="gridFees" aria-label="Fee & blockspace cards"></section>

      <section class="sectionHead">
        <h2>Mining & Security</h2>
        <p class="muted">Network security and retarget cadence.</p>
      </section>
      <section class="grid insightsGrid" id="gridSecurity" aria-label="Mining & security cards"></section>

      <section class="sectionHead">
        <h2>Supply & Monetary Policy</h2>
        <p class="muted">Issuance, inflation rate and long-term supply curve.</p>
      </section>
      <section class="grid insightsGrid" id="gridSupply" aria-label="Supply & monetary policy cards"></section>
    </main>

    <footer class="footer">
      <span class="muted">© <span id="year"></span> ChainAtlasOne</span>
      <span class="muted">•</span>
      <a class="muted" href="/learn/">Learn</a>
      <span class="muted">•</span>
      <a class="muted" href="/">Dashboard</a>
    </footer>

    <script defer src="./insights-data.js"></script>
    <script defer src="./visuals.js"></script>
    <script defer src="./insights.js"></script>

    <script>
      document.getElementById("year").textContent = String(new Date().getFullYear());
    </script>
  </body>
</html>